{"version":3,"sources":["Filter.js","services/personServices.js","PersonForm.js","Persons.js","Notification.js","App.js","index.js"],"names":["Filter","filter","setFilter","onChange","event","target","value","baseUrl","axios","get","then","response","data","newObject","post","id","name","window","confirm","delete","alert","console","log","put","PersonForm","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setErrorMessage","setMessageType","onSubmit","preventDefault","undefined","find","person","changedPerson","number","personServices","returnedPerson","map","setTimeout","catch","error","concat","type","Persons","personsToShow","toLowerCase","includes","onClick","Notification","message","messageType","className","App","useState","errorMessage","useEffect","ReactDOM","render","document","getElementById"],"mappings":"6KAYeA,EAZF,SAAC,GAAqB,EAApBC,OAAqB,IAAdC,EAAa,EAAbA,UAKlB,OACI,gCACI,kDACA,uBAAOC,SAPI,SAACC,GAChBF,EAAUE,EAAMC,OAAOC,c,uBCDzBC,EAAU,eA2BD,EAzBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAuB9B,EApBA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfG,SAACG,EAAIC,GACfC,OAAOC,QAAP,iBAAyBF,EAAzB,OACAR,IAAMW,OAAN,UAAgBZ,EAAhB,YAA2BQ,IAC3BK,MAAM,sBAENC,QAAQC,IAAI,kBAUL,EANA,SAACP,EAAIF,GAEhB,OADgBL,IAAMe,IAAN,UAAahB,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC8C9BY,EApEE,SAAC,GAAiG,IAAhGC,EAA+F,EAA/FA,QAAQC,EAAuF,EAAvFA,WAAWC,EAA4E,EAA5EA,QAAQC,EAAoE,EAApEA,WAAWC,EAAyD,EAAzDA,UAAUC,EAA+C,EAA/CA,aAAaC,EAAkC,EAAlCA,gBAAgBC,EAAkB,EAAlBA,eAuD5F,OACI,uBAAMC,SAvDS,SAAC7B,GAGhB,GAFAA,EAAM8B,sBAE4CC,IAA9CV,EAAQW,MAAK,SAAAC,GAAM,OAAEA,EAAOrB,OAAOW,MACrC,GAAIV,OAAOC,QAAP,UAAkBS,EAAlB,2EAAmG,CACrG,IAAMU,EAASZ,EAAQW,MAAK,SAAAC,GAAM,OAAIA,EAAOrB,OAASW,KAChDW,EAAa,2BAAQD,GAAR,IAAgBE,OAAOV,IAE1CW,EACQH,EAAOtB,GAAGuB,GACjB5B,MAAK,SAAA+B,GACJf,EAAWD,EAAQiB,KAAI,SAAAL,GAAM,OAAIA,EAAOrB,OAASW,EAAUU,EAASI,MACpEV,EAAgB,WAAD,OAAYM,EAAOrB,OAClCgB,GAAe,GACfW,YAAW,WACTZ,EAAgB,QACf,QAEJa,OAAM,SAAAC,GACLd,EAAgB,WAAD,OACFM,EAAOrB,KADL,sCAGfgB,GAAe,GACfW,YAAW,WACTZ,EAAgB,QACf,KACHL,EAAWD,EAAQxB,QAAO,SAAAoC,GAAM,OAAIA,EAAOrB,OAASW,eAUxDa,EALgB,CACdxB,KAAKW,EACLY,OAAOV,IAKNnB,MAAK,SAAAC,GACJe,EAAWD,EAAQqB,OAAOnC,IAC1BoB,EAAgB,SAAD,OAAUpB,EAASK,OAClCgB,GAAe,GACfW,YAAW,WACTZ,EAAgB,QACf,QAGTH,EAAW,IACXE,EAAa,KAOb,UACA,yCACQ,uBAAO3B,SANH,SAACC,GAAD,OAASwB,EAAWxB,EAAMC,OAAOC,QAMTA,MAAOqB,IAD3C,WAEU,uBAAOxB,SANL,SAACC,GAAD,OAAS0B,EAAa1B,EAAMC,OAAOC,QAMTA,MAAOuB,OAE7C,8BACE,wBAAQkB,KAAK,SAAb,uBCxCKC,EAtBD,SAAC,GAAoB,IAAnBvB,EAAkB,EAAlBA,QAAQxB,EAAU,EAAVA,OACdgD,EAAuB,KAAThD,EAClBwB,EACAA,EAAQxB,QAAO,SAAAoC,GAAM,OAAEA,EAAOrB,KAAKkC,cAAcC,SAASlD,MAO5D,OACI,8BACKgD,EAAcP,KAAI,SAAAL,GACnB,OACA,gCACI,8BAAIA,EAAOrB,KAAX,IAAkBqB,EAAOE,UACzB,wBAAQa,QAAS,kBAXNrC,EAW0BsB,EAAOtB,GAX9BC,EAWiCqB,EAAOrB,UAV9DwB,EACWzB,EAAGC,GAFI,IAACD,EAAGC,GAWd,sBAFMqB,EAAOrB,YCDdqC,G,MAbI,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,QAAQC,EAAe,EAAfA,YACzB,GAAc,OAAVD,EACA,OAAO,KAGX,IAAME,EAAUD,EAAc,UAAY,QAC1C,OACI,qBAAKC,UAAWA,EAAhB,SACKF,MC2BEG,EA9BH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRjC,EADQ,KACCC,EADD,OAEgBgC,mBAAS,IAFzB,mBAER/B,EAFQ,KAECC,EAFD,OAGoB8B,mBAAS,IAH7B,mBAGR7B,EAHQ,KAGGC,EAHH,OAIS4B,mBAAS,IAJlB,mBAITzD,EAJS,KAIFC,EAJE,OAKqBwD,mBAAS,MAL9B,mBAKTC,EALS,KAKI5B,EALJ,OAMmB2B,oBAAS,GAN5B,mBAMTH,EANS,KAMGvB,EANH,KAiBhB,OATA4B,qBAAU,WACRpB,IAEC9B,MAAK,SAAAC,GACFe,EAAWf,QAEd,IAID,gCACE,cAAC,EAAD,CAAc2C,QAASK,EAAcJ,YAAaA,IAClD,2CACA,cAAC,EAAD,CAAQtD,OAAQA,EAAQC,UAAWA,IACnC,2CACA,cAAC,EAAD,CAAYuB,QAASA,EAASC,WAAYA,EAAYC,QAASA,EAASC,WAAYA,EAAYC,UAAWA,EAAWC,aAAcA,EAAcC,gBAAiBA,EAAiBC,eAAgBA,IACpM,yCACA,cAAC,EAAD,CAASP,QAASA,EAASxB,OAAQA,QC3BzC4D,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.1b643682.chunk.js","sourcesContent":["const Filter=({filter,setFilter})=>{\r\n    const handleFilter=(event)=>{\r\n        setFilter(event.target.value)\r\n      }\r\n\r\n    return(\r\n        <div>\r\n            <p>filter shown with</p> \r\n            <input onChange={handleFilter}></input>\r\n        </div>\r\n      )}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst eliminate = (id, name) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n        axios.delete(`${baseUrl}/${id}`)\r\n        alert(\"Delete succesfull\")\r\n    } else {\r\n        console.log(\"delete paused\")\r\n    }\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, eliminate, update }","import personServices from './services/personServices'\r\n\r\nconst PersonForm=({persons,setPersons,newName,setNewName,newNumber,setNewNumber,setErrorMessage,setMessageType})=>{\r\n    const handleSubmit=(event)=>{\r\n        event.preventDefault()\r\n        \r\n        if (persons.find(person=>person.name===newName)!==undefined){\r\n          if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n            const person = persons.find(person => person.name === newName)\r\n            const changedPerson = { ...person, number:newNumber }\r\n            \r\n            personServices\r\n            .update(person.id,changedPerson)\r\n            .then(returnedPerson => {\r\n              setPersons(persons.map(person => person.name !== newName ? person : returnedPerson))\r\n              setErrorMessage(`Updated ${person.name}`)\r\n              setMessageType(true)\r\n              setTimeout(() => {\r\n                setErrorMessage(null)\r\n              }, 5000)\r\n            })\r\n            .catch(error => {\r\n              setErrorMessage(\r\n                `Person '${person.name}' was already removed from server`\r\n              )\r\n              setMessageType(false)\r\n              setTimeout(() => {\r\n                setErrorMessage(null)\r\n              }, 5000)\r\n              setPersons(persons.filter(person => person.name !== newName))\r\n            })\r\n          }\r\n        }  \r\n        else{\r\n          const newPerson={\r\n            name:newName,\r\n            number:newNumber\r\n          }\r\n          \r\n          personServices\r\n          .create(newPerson)\r\n            .then(response => {\r\n              setPersons(persons.concat(response))\r\n              setErrorMessage(`Added ${response.name}`)\r\n              setMessageType(true)\r\n              setTimeout(() => {\r\n                setErrorMessage(null)\r\n              }, 5000)\r\n              })\r\n        }\r\n        setNewName(\"\")\r\n        setNewNumber(\"\")\r\n    }\r\n\r\n    const addPerson=(event)=>setNewName(event.target.value)\r\n    const addNumber=(event)=>setNewNumber(event.target.value)\r\n    \r\n    return(\r\n        <form onSubmit={handleSubmit}>\r\n        <div>    \r\n          name: <input onChange={addPerson} value={newName}/>\r\n          number: <input onChange={addNumber} value={newNumber}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import personServices from './services/personServices'\r\n\r\nconst Persons=({persons,filter})=>{\r\n    const personsToShow=filter==='' \r\n    ? persons \r\n    : persons.filter(person=>person.name.toLowerCase().includes(filter))\r\n    \r\n    const eliminatePerson=(id,name)=>{\r\n        personServices\r\n        .eliminate(id,name)\r\n    }\r\n    \r\n    return(\r\n        <div>\r\n            {personsToShow.map(person=>{ \r\n            return(\r\n            <div key={person.name}>\r\n                <p>{person.name} {person.number}</p> \r\n                <button onClick={()=>eliminatePerson(person.id,person.name)}>delete</button>\r\n            </div>\r\n            )})}\r\n        </div>\r\n)}\r\n\r\nexport default Persons","import './styles.css'\r\n\r\nconst Notification=({message,messageType})=>{\r\n    if (message===null){\r\n        return null\r\n    }\r\n\r\n    const className=messageType ? \"success\" : \"error\"\r\n    return(\r\n        <div className={className}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter.js'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport personServices from './services/personServices'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filter,setFilter]=useState('')\n  const [errorMessage,setErrorMessage]=useState(null)\n  const [messageType,setMessageType]=useState(true)\n\n  useEffect(() => {\n    personServices\n    .getAll()\n    .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  \n  return (\n    <div>\n      <Notification message={errorMessage} messageType={messageType}/>\n      <h2>Phonebook</h2>\n      <Filter filter={filter} setFilter={setFilter}/>\n      <h2>Add a new</h2>\n      <PersonForm persons={persons} setPersons={setPersons} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber} setErrorMessage={setErrorMessage} setMessageType={setMessageType}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}